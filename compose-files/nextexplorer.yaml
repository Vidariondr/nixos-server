services:
  nextexplorer:
    image: nxzai/explorer:v2.0.10
    container_name: nextexplorer
    networks:
      docker_network:
        ipv4_address: ${NEXTEXPLORER_IP}
    security_opt:
      - no-new-privileges:true
    restart: unless-stopped
    ports:
      - "${NEXTEXPLORER_EXT_PORT}:${NEXTEXPLORER_INT_PORT}"
    environment:
      NODE_ENV: production
      PUID: ${PUID}
      PGID: ${PGID}
      USER_DIR_ENABLED: true
      PUBLIC_URL: "http://${IP_SERVER}:${NEXTEXPLORER_EXT_PORT}"
    volumes:
      - "${DATADIR}/nextexplorer/users:/mnt/_users"
      - "${DATADIR}/nextexplorer/cache:/cache"
      - "${DOCKERDIR}/appdata/nextexplorer:/config"
